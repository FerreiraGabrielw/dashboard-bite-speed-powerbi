<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel Ferreira">
<meta name="dcterms.date" content="2022-05-10">

<title>Project: BiteSpeed Dashboard - Operational and Sales Performance Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Projeto3DA_files/libs/clipboard/clipboard.min.js"></script>
<script src="Projeto3DA_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Projeto3DA_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Projeto3DA_files/libs/quarto-html/popper.min.js"></script>
<script src="Projeto3DA_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Projeto3DA_files/libs/quarto-html/anchor.min.js"></script>
<link href="Projeto3DA_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Projeto3DA_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Projeto3DA_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Projeto3DA_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Projeto3DA_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project: BiteSpeed Dashboard - Operational and Sales Performance Analysis</h1>
</div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel Ferreira </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 10, 2022</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This project presents a Dashboard developed for the fictional company BiteSpeed, with the primary objective of providing a consolidated and actionable view of sales operations and customer service performance. The solution was designed to allow managers and operational teams to monitor key sales and production metrics and, crucially, the average service time across different channels and regions. By integrating sales, service, and customer demographic data, the dashboard empowers the company to identify bottlenecks, optimize processes, improve customer experience, and direct marketing campaigns more effectively.</p>
<section id="project-structure" class="level2">
<h2 class="anchored" data-anchor-id="project-structure">Project Structure</h2>
<p>The main requirements and indicators developed for this analysis, aiming for more efficient business management, were:</p>
<ul>
<li><strong>Global Financial and Operational Performance</strong>: Total Sales, Total Production, and Quantity Sold, offering a macro overview of the company’s business volume.</li>
<li><strong>Regional Performance</strong>: Analysis of sales and other metrics by geographical regions (Central, East, North, West, South).</li>
<li><strong>Customer Service Time</strong>: Monitoring of the average service time, detailed by service type (Drive-Thru, Delivery, Counter), by customer gender, and, in a granular way, by specific employees.</li>
<li><strong>Geographic Analysis of Service</strong>: Visualization of the average service time by state, highlighting areas that require attention or that perform exceptionally well.</li>
<li><strong>Sales Composition by Product</strong>: Detailing total sales by product category (Hamburger, Dessert, Drink, Side Dish).</li>
<li><strong>Profitability by Category</strong>: Calculation of the profit generated by each product category, allowing for strategic decisions on the product mix.</li>
<li><strong>Sales Trend Over Time</strong>: Graph of the evolution of total sales throughout the months of the year, to identify seasonality and consumption patterns.</li>
<li><strong>Sales Demographics</strong>: Analysis of sales distribution by age group and gender, offering valuable insights for marketing campaigns and audience segmentation.</li>
</ul>
</section>
<section id="technologies-used" class="level2">
<h2 class="anchored" data-anchor-id="technologies-used">Technologies Used</h2>
<p>For the construction of this analytical dashboard, the tools employed were:</p>
<ul>
<li><p><strong>Power BI Desktop</strong>: To connect data sources, perform the necessary modeling and transformation, and develop the interactive visuals that compose the dashboard.</p></li>
<li><p><strong>Figma</strong>: The prototyping and design of the dashboard were done with Figma.</p></li>
</ul>
</section>
<section id="etl-process-extraction-transformation-and-loading" class="level2">
<h2 class="anchored" data-anchor-id="etl-process-extraction-transformation-and-loading">ETL Process (Extraction, Transformation, and Loading)</h2>
<p>The ETL process for the BiteSpeed Dashboard was carefully planned to ensure data quality and integrity:</p>
<ol type="1">
<li><strong>Extraction</strong>: Data was obtained from its operational sources, which in a quick-service environment would include Point of Sale (POS) systems for sales, order management systems for service times, HR systems for employee data. The data was provided in <code>.xls</code> and <code>.csv</code> formats, containing detailed information about transactions, products, service times, and customer demographics.</li>
<li><strong>Transformation</strong>: In Power Query, an integral part of Power BI, various cleaning and enrichment operations were performed. This included:
<ul>
<li>Standardization of region names and product categories.</li>
<li>Handling of temporal data to allow analysis by month.</li>
</ul></li>
</ol>
<p>Data modeling was fundamental to establish relationships between fact and dimension tables, ensuring that all information could be correctly filtered and viewed together.</p>
<ol start="3" type="1">
<li><strong>Loading</strong>: After the extraction and transformation steps, the data was loaded into the Power BI data model, ready to feed all the charts and tables of the dashboard, allowing for interactive exploration.</li>
</ol>
</section>
</section>
<section id="dashboard" class="level1">
<h1>Dashboard</h1>
<p>The dashboard features an organized layout to provide a clear view of the main indicators at a glance. The interface uses a combination of KPI cards for overall totals, bar charts for comparisons (by product, category), donut charts for proportions (service time by type/gender), and a heatmap for the geographical analysis of service time. Interactivity is a key differentiator, allowing users to filter data by region, period, or even by employee, facilitating the exploration of specific insights and the identification of areas for improvement.</p>
<div style="text-align:center;">
<p><img src="imagem1.png" alt=""></p>
</div>
<section id="insights" class="level2">
<h2 class="anchored" data-anchor-id="insights">Insights</h2>
<p>The analysis of the data presented in the Dashboard revealed valuable insights into the company’s operational and commercial performance:</p>
<ul>
<li><strong>Consolidated Financial and Operational View</strong>:
<ul>
<li>In the overall panorama, the dashboard highlights important indicators: <strong>Total Sales of R$ 10.6 Million</strong>, <strong>Quantity Sold of R$ 21.3 Thousand</strong> items, and <strong>Total Production of R$ 100.4 Thousand</strong> units. These metrics offer a solid base for understanding the scale of the company’s operations.</li>
</ul></li>
</ul>
<div style="text-align:center;">
<p><img src="imagem2.png" alt=""></p>
</div>
<ul>
<li><strong>Sales Trend by Month</strong>:
<ul>
<li>The “Total Sales by Month” chart shows the progression of sales throughout the year (from January to December). The trend line allows for the identification of seasonal patterns or the impact of specific campaigns. For a business, this visualization is fundamental for planning inventory, personnel allocation, and future marketing strategies.</li>
</ul></li>
</ul>
<div style="text-align:center;">
<p><img src="imagem3.png" alt=""></p>
</div>
<ul>
<li><strong>Sales Performance and Profit by Product Category</strong>:
<ul>
<li>The Hamburger category significantly stands out in sales with R$ 4.9 Million, Dessert contributes R$ 3.0 Million in sales, Drinks with R$ 1.4 Million, and Sides with R$ 1.4 Million.</li>
</ul></li>
</ul>
<p>This insight is vital for optimizing the product mix and profitability strategies.</p>
<div style="text-align:center;">
<p><img src="imagem4.png" alt=""></p>
</div>
<ul>
<li><strong>Detailed Service Time Analysis</strong>:
<ul>
<li>The dashboard offers a multifaceted view of the average service time, crucial for customer satisfaction.</li>
<li>By Service Type: The average service time is 7.82 minutes for Counter (representing 32.65% of total service time) and 8.13 minutes for Drive-Thru (33.91%).</li>
<li>Delivery records an average of 8.01 minutes (33.44% of total service time).</li>
</ul></li>
</ul>
<p>Identifying these averages allows the company to invest in specific training or process improvements for channels and audiences that experience longer service times.</p>
<div style="text-align:center;">
<p><img src="imagem5.png" alt=""></p>
</div>
<ul>
<li><strong>Individual Service Performance</strong>:
<ul>
<li>In addition to general averages, the dashboard allows tracking the service time of specific employees: Aaron Kelley (10 min), Aaron Lyons (4 min), and Aaron Mccall (7 min). This granularity is extremely useful for identifying high-performing employees who can serve as examples, and for offering support or additional training to those who need to optimize their service time.</li>
</ul></li>
<li><strong>Sales by Age Group and Gender</strong>:
<ul>
<li>The bar charts for “Sales by Age Group and Gender” are essential for understanding the consumer profile. They show the distribution of sales by age groups (18-30 Years, 31-50 Years, 51-70+ Years) and segregate this information by gender (female and male, inferred by the two distinct bars for each age group).</li>
<li>It is observed that sales are significant across all age groups, but with distinct volumes in each. Notably, the 31-50 and 51-70+ age groups are ahead of the younger 18-30 age group, and a clear balance between genders can be observed.</li>
</ul></li>
</ul>
<p>These demographic insights are important for the marketing team, allowing for the creation of highly personalized campaigns, specific promotions for certain groups, or even the development of products that better meet the preferences of different customer segments.</p>
<div style="text-align:center;">
<p><img src="imagem6.png" alt=""></p>
</div>
</section>
<section id="considerations" class="level2">
<h2 class="anchored" data-anchor-id="considerations">Considerations</h2>
<p>The Dashboard offered a series of opportunities for optimization and growth. From the insights obtained, some important considerations arise:</p>
<ul>
<li><strong>Customer Service Optimization</strong>: The detailed analysis of service times by type (Drive-Thru, Delivery, Counter) and by state is crucial. The company can implement specific training, reorganize teams, or invest in technology to reduce these times, directly impacting customer satisfaction and the ability to serve more consumers.</li>
<li><strong>Product and Profitability Strategies</strong>: The concentration of profit in the hamburger category demands attention. It is vital to investigate why other categories do not show apparent profit and explore ways to optimize their margins, whether through renegotiation with suppliers, optimization of production processes, or price adjustments. The dashboard suggests the need for a more in-depth cost and pricing analysis in other categories.</li>
<li><strong>Data-Driven Marketing</strong>: The segmentation of sales by age group and gender allows the marketing team to create highly personalized campaigns. For example, if the “18-30 Years” age group proves to be a strong segment, the company can direct advertising on social platforms popular among this audience.</li>
<li><strong>Employee Performance Management</strong>: Individual tracking of employee service time, such as Aaron Kelley, Lyons, and Mccall, is a powerful tool for performance management. This allows identifying training needs, recognizing and rewarding efficiency, and fostering a work environment focused on continuous service improvement.</li>
<li><strong>Regional Expansion and Optimization</strong>: The service time map by state can guide future expansion decisions or the need for interventions in branches in underperforming states.</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The Dashboard was an essential analytical tool that transforms operational and sales data into actionable intelligence. Its main contribution lies in its ability to:</p>
<ul>
<li>Provide a comprehensive financial and operational overview, facilitating the monitoring of sales and production goals.</li>
<li>Detail customer service performance from various angles (channel, gender, individual, location), allowing for surgical interventions for improvement.</li>
<li>Offer deep demographic insights into customers, supporting marketing strategies and product development.</li>
<li>Identify opportunities to optimize the product mix and category profitability.</li>
</ul>
<p>This project demonstrates the ability to build BI solutions that empower companies to deeply understand their operations, improve customer experience, and make strategic decisions based on data, driving growth and efficiency in a competitive market like quick-service.</p>
</section>
<section id="link-to-the-dashboard" class="level2">
<h2 class="anchored" data-anchor-id="link-to-the-dashboard">Link to the Dashboard:</h2>
<p><a href="https://app.powerbi.com/groups/me/reports/3fd60242-5e84-4e13-a6e4-8c12c5b021cc/ReportSectiond76d31f79c73f7fe0e3b?experience=power-bi" rel="noopener noreferrer"> Click here to access the report in Power BI </a></p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>